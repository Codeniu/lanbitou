代码备份：批量拖动

版本一：做批量移动操作 这里是通过判断操作的dom对象的边框是否为红色来判断的，写在move函数中有一个问题：当拖动时，拖到目标区域并没有释放时，数组已经做了变更。操作变得不可控了。

vue：

```vue
        <draggable
          v-model="preSelectedImageList"
          class="draggable-content pre"
          chosenClass="chosen"
          ghostClass="ghost"
          group="img"
          :move="allow2"
        >
```
js：

```js
allow2(evt) {
  console.log("当前的索引", evt.draggedContext.index);
  console.log("当前的对象", evt.draggedContext.element);
  console.log("新的索引", evt.draggedContext.futureIndex);
  console.log("相关元素的索引", evt.relatedContext.index);
  console.log("相关的对象", evt.relatedContext.element);
  console.log("相关的列表", evt.relatedContext.list);
  console.log("相关的组件对象", evt.relatedContext.component);

  var item = evt.draggedContext.element; //当前拖拽的对象
  var flag = item.from !== "ftp"; //当拖动的对象的名称是ftp时,flag:false

  var ref = item.index;
  var dom = this.$refs[ref][0];
  if (dom.style.border === "1px solid red") {
    //当前拖拽得元素是多选得元素 把planTemp[]中得所有元素转移位置,push,删掉备选区列表中的元素
    // 状态改变 清空tempPlan列表
    // 首先去除当前planTemp数组中item项，因为要手动移动过去
    var remove_index = this.preTemp.indexOf(item);
    this.preTemp.splice(remove_index, 1);
    // 整理备选区的数组
    this.preTemp.forEach((item, index) => {
      remove_index = this.preSelectedImageList.indexOf(item);
      this.preSelectedImageList.splice(remove_index, 1);
    });
    this.planSelectedImageList.push.apply(
      this.planSelectedImageList,
      this.preTemp
    ); //合并数组
    this.preTemp = [];
  }
  return flag;
},
```








1. **给一个json对象添加新key**

   `jsonObj["selected"] = true;`

   

2. **js获取json对象中的key和value**

   ```js
   //比如有一个json
   var json = {"name" : "Tom", "age" : 18};
   for (var key in json) {
       console.log(key);        //获取key值
       console.log(json[key]); //获取对应的value值
   }
   
   //还要一种方法用jquery回调函数完成的
   $.each(json, function(i) {
       console.log(i); //获取键值
       console.log(json[i]); //获取对应的value
   });
   //推入新数组
   var json1= [];
   ax.push(json1);
   
   ```



3. **JS之判断json对象中是否含有某个key值**

   ```
   var json = {"key1":"val1","key2":"val2","key3":"val3"};
   
   if(json.hasOwnProperty("key1")){
   
   console.log(json["key1]);
   
   }
   ```

   

