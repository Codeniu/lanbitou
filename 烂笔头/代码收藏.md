### 1. 生成唯一标识

```js
generateUUID() {
  var d = new Date().getTime();
  var uuid = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(
    /[xy]/g,
    function(c) {
      var r = (d + Math.random() * 16) % 16 | 0;
      d = Math.floor(d / 16);
      return (c == "x" ? r : (r & 0x3) | 0x8).toString(16);
    }
  );
  return uuid;
},
```

### 2. Nginx 的一个小技巧

**在不使用编程语言的情况下，在 JSON 对象里返回客户端的 IP 地址。**

The following block does the trick:

```
location /ip {
    default_type text/plain;
    return 200 $remote_addr;
}
```

The response is simply the IP address of the client:

```
$ curl https://example.com/ip
2001:1b48:103::189
```

**Bonus: JSON response**

Want a JSON response? Sure, it is perfectly doable:

```nginx
location /json_ip {
    default_type application/json;
    return 200 "{\"ip\":\"$remote_addr\"}";
}
```

The response is now a pretty JSON document:

```nginx
$ curl -s https://example.com/json_ip | jq
{
    "ip": "2001:1b48:103::189"
}
```

### 3.判断是否包含字符串某字符串

```js
/**
* 判断是否包含字符串某字符串
* @param {[type]} str [被检测的字符串]
* @param {[type]} substr [检测是否含有的字符串]
* @return {Boolean} [ture,false]
*/
function isContains(str,substr) {
　　return new RegExp(substr).test(str);
}
```





### 4.删除arr1中的arr2的元素项

```js
    /**
     * @description 删除arr1中的arr2的元素项
     * @param arr1[] arr2[]
     * @returns 返回一个新的数组arr1
     */
    formdata2Array(arr1, arr2) {
      // arr2在arr1中各个元素的索引,保存到indexs中
      let indexs = [];
      arr2.forEach((item, index) => {
        indexs.push(arr1.indexOf(item));
      });
      //对indexList排序
      indexs.sort(function(a, b) {
        return b - a;
      });
      //删除
      indexs.forEach(function(index) {
        arr1.splice(index, 1);
      });

      return arr1;
    },
```

### 5.函数节流

**第一个例子**

```js
    // 用于函数节流
    fnThrottle(method, delay, duration) {
      var that = this;
      var timer = this.timer;
      var begin = new Date().getTime();
      return function() {
        var context = that;
        var args = arguments;
        var current = new Date().getTime();
        clearTimeout(timer);
        if (current - begin >= duration) {
          method.apply(context, args);
          begin = current;
        } else {
          // console.log(delay);
          that.timer = setTimeout(function() {
            method.apply(context, args);
          }, delay);
        }
      };
    },

    // 面版大小改动时的处理逻辑
    resizeAction() {
      let dom = this.$refs.plan.$el;
      let width = dom.offsetWidth;
      let count = parseInt(width / 33);
      // let count = parseInt(this.planWidth/this.percentOne)
      this.pages = count;
      let start = this.valueBlock[0];
      this.valueBlock = [start, count];
    },

    // 面版大小改动时触发
    resize: function(percent) {
      this.planWidth = percent;
      this.fnThrottle(this.resizeAction, 500, 1000)();
    },
```

**第二个例子**

```js
    // 鼠标滚动缩放
    mousewheel(e) {
      e = e || event;
      e.preventDefault();
      if (e.deltaY < 0) {
        this.throttle(() => {
          this.plus();
        });
      } else {
        this.throttle(() => {
          this.minus();
        });
      }
    },
    // 函数节流
    throttle(func) {
      if (this.time) {
        this.time = 0;
        func();
        setTimeout(() => {
          this.time = 1;
        }, 20);
      }
    }
```

