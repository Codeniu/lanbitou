# 自定义过滤器

html

```html
<el-table-column label="Status" class-name="status-col" width="100">
        <template slot-scope="{row}">
          <el-tag :type="row.status | statusFilter">
            {{ row.status }}
          </el-tag>
        </template>
  </el-table-column>
```

JavaScript

```js

export default {
  name: 'ComplexTable',
  components: { Pagination },
  directives: { waves },
  filters: {
    statusFilter(status) {
      const statusMap = {
        published: 'success',
        draft: 'info',
        deleted: 'danger'
      }
      return statusMap[status]
    },
    typeFilter(type) {
      return calendarTypeKeyValue[type]
    }
  },
  data(){return{}},
}
```



# 全局过滤器

在src下新建文件夹：filters。新建文件，index.js。写入如下代码。

```js
export { parseTime} from '@/utils';

/**
 * 10000 => "10,000"
 * @param {number} num
 */
export function toThousandFilter(num) {
    return (Number(num) || 0)
        .toString()
        .replace(/^-?\d+/g, m => m.replace(/(?=(?!\b)(\d{3})+$)/g, ','));
}
```

在main.js下添加如下代码

```js
import * as filters from './filters';

Object.keys(filters).forEach(key => {
    Vue.filter(key, filters[key]);
});
```

