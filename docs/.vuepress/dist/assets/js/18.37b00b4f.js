(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{370:function(a,t,e){"use strict";e.r(t);var s=e(42),c=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("/home/tomcat-isc/webapps")]),a._v(" "),e("h3",{attrs:{id:"_1-运行tomcat容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-运行tomcat容器"}},[a._v("#")]),a._v(" 1.运行tomcat容器")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker run -idt -p 8081:8080 tomcat\n")])])]),e("p",[e("code",[a._v("-p 8081:8080")]),a._v("\t将本地8081端口映射到容器的8080端口")]),a._v(" "),e("p",[e("code",[a._v("-d")]),a._v("\tdiff的意思，官方解释：Inspect changes to files or directories on a container's filesystem。保存文件变更")]),a._v(" "),e("h3",{attrs:{id:"_2-进入tomcat容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-进入tomcat容器"}},[a._v("#")]),a._v(" 2.进入tomcat容器")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker exec -it <container id>\tbash\n")])])]),e("p",[e("strong",[a._v("初始化的tomcat "),e("code",[a._v("/usr/local/tomcat/webapps")]),a._v(" 文件夹是空的，需要将"),e("code",[a._v("/usr/local/tomcat/webapps.dist")]),a._v("文件中的内容复制到替换过去。")])]),a._v(" "),e("p",[a._v("命令：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("cd /usr/local/tomcat\n\nrm webapps\nrm <本地文件夹>\n\nmv webapps.dist webapps\nmv <文件> <更改名字>\n")])])]),e("p",[a._v("这时才可以访问tomcat的欢迎页面")]),a._v(" "),e("h3",{attrs:{id:"_3-保存修改后的容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-保存修改后的容器"}},[a._v("#")]),a._v(" 3.保存修改后的容器")]),a._v(" "),e("p",[a._v("语法：")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('docker commit -m="<comment>" -a="<author>" <container id> <author>/<new container name>:<tag>\n')])])]),e("p",[a._v("例子")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('docker commit -m="has update" -a="runoob" e218edb10161 runoob/ubuntu:v2\n')])])]),e("h3",{attrs:{id:"_4-把项目部署到tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-把项目部署到tomcat"}},[a._v("#")]),a._v(" 4.把项目部署到tomcat")]),a._v(" "),e("p",[a._v("查看tomcat容器uuid")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker inspect -f '{{.Id}}' <container name>\n")])])]),e("p",[a._v("得到：容器长uuid")]),a._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[a._v("fe3ce7d5fbc93c9cedafe362bd091a2ebed9babe610f52a3545ea85cd58a67a3\n")])])]),e("p",[a._v("将本地文件复制到容器中")]),a._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[a._v("docker cp "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("local path"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("container long id"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("contanier path"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),e("p",[a._v("例子")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker cp /usr/local/niu/apache-tomcat-9.0.24/webapps/dams fe3ce7d5fbc93c9cedafe362bd091a2ebed9babe610f52a3545ea85cd58a67a3:/usr/local/tomcat/webapps\n")])])]),e("h3",{attrs:{id:"_5我的部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5我的部署"}},[a._v("#")]),a._v(" 5我的部署")]),a._v(" "),e("p",[e("a",{attrs:{href:"http://39.97.184.218:8081/niu/",target:"_blank",rel:"noopener noreferrer"}},[a._v("niu"),e("OutboundLink")],1)]),a._v(" "),e("h3",{attrs:{id:"_6-挂载目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-挂载目录"}},[a._v("#")]),a._v(" 6 挂载目录")]),a._v(" "),e("p",[a._v("/home/tomcat-isc/webapps")]),a._v(" "),e("p",[a._v("/usr/local/tomcat/webapps")]),a._v(" "),e("p",[a._v("/home/tomcat-isc/logs")]),a._v(" "),e("p",[a._v("/usr/local/tomcat/logs")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker run -idt --name tomcat-isc -p 8100:8080 -v /home/tomcat-isc/webapps:/usr/local/tomcat/webapps -v /home/tomcat-isc/logs:/usr/local/tomcat/logs youngniu/tomcat:niu\n")])])])])}),[],!1,null,null,null);t.default=c.exports}}]);